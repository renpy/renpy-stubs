from _typeshed import Incomplete as Incomplete
from renpy.compat.pickle import dumps as dumps, find_bad_reduction as find_bad_reduction, loads as loads

class Persistent:
    def __init__(self) -> None: ...
    def __getattr__(self, attr: Incomplete) -> None: ...

def safe_deepcopy(o: Incomplete, reduction_name: str) -> Incomplete: ...

backup: Incomplete

def find_changes() -> Incomplete: ...
def load(filename: Incomplete) -> Incomplete: ...
def init() -> Incomplete: ...
def init_debug_pickler() -> Incomplete: ...

registry: Incomplete

def register_persistent(field: Incomplete, func: Incomplete) -> None: ...
def default_merge(old: Incomplete, new: Incomplete, current: Incomplete) -> Incomplete: ...
def dictset_merge(old: Incomplete, new: Incomplete, current: Incomplete) -> Incomplete: ...
def merge(other: Incomplete) -> None: ...

persistent_mtime: float

def check_update() -> None: ...
def update(force_save: bool = False) -> Incomplete: ...

should_save_persistent: bool

def save() -> None: ...

MP_instances: Incomplete

def save_MP() -> None: ...
def save_on_quit_MP() -> None: ...
def get_MP(name: Incomplete) -> Incomplete: ...

class _MultiPersistent:
    def __getattr__(self, name: Incomplete) -> None: ...
    def save(self) -> None: ...

def MultiPersistent(name: Incomplete, save_on_quit: bool = False) -> Incomplete: ...
